<template>
    <div class="page">
        <van-swipe class="my-swipe" :autoplay="30000" indicator-color="white">
            <van-swipe-item>
                <img class="image" :src="banner1" />
            </van-swipe-item>
            <van-swipe-item>
                <img class="image" :src="banner2" />
            </van-swipe-item>
            <van-swipe-item>
                <img class="image" :src="banner3" />
            </van-swipe-item>
            <van-swipe-item>
                <img class="image" :src="banner4" />
            </van-swipe-item>
        </van-swipe>

        <div class="MyTraining">
            <van-cell title="我的培训" value="更多" is-link :border="false" :clickable="false"/>
            <van-grid :column-num="3" class="menus">
                <van-grid-item icon="photo-o" >
                    <template #icon>
                        <svg t="1709744648971" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2429" width="32" height="32"><path d="M126 286v546h775V286H126z m-27-60h829c18.225 0 33 14.775 33 33v600c0 18.225-14.775 33-33 33H99c-18.225 0-33-14.775-33-33V259c0-18.225 14.775-33 33-33z" fill="#2F54EB" p-id="2430"></path><path d="M621.817 573.627a6 6 0 0 0-0.818-8.446L458.63 431.465a6 6 0 0 0-9.814 4.631V703.53a6 6 0 0 0 9.814 4.631L621 574.445a6 6 0 0 0 0.818-0.818z m-125.045 180.85c-28.138 23.172-69.732 19.147-92.904-8.99a66 66 0 0 1-15.053-41.957V436.096c0-36.45 29.55-66 66-66a66 66 0 0 1 41.957 15.053l162.37 133.717c28.137 23.172 32.163 64.766 8.99 92.904a66 66 0 0 1-8.99 8.99l-162.37 133.717z" fill="#85A5FF" p-id="2431"></path><path d="M510.273 224.561l-150.2-180.735c-10.59-12.742-29.505-14.487-42.247-3.898-12.743 10.59-14.488 29.505-3.898 42.247l150.2 180.735c25.883 31.145 69.798 31.145 95.68 0L710.01 82.175c10.59-12.742 8.845-31.657-3.898-42.247s-31.657-8.844-42.247 3.898l-150.2 180.735c-0.673 0.81-1.248 1.31-1.696 1.583-0.448-0.274-1.023-0.774-1.695-1.583z" fill="#2F54EB" p-id="2432"></path></svg>
                    </template>
                    <template #text>
                        <div class="title">直播课</div>
                        <div class="subtitle">保险培训直播课</div>
                    </template>
                </van-grid-item>
                <van-grid-item icon="photo-o" @click="onClickAITeachers">
                    <template #icon>
                        <svg t="1709744965180" class="icon" viewBox="0 0 1095 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5355" width="32" height="32"><path d="M774.000226 72.73271h293.665153c36.092924 0 36.092924-57.420561 0-57.42056h-293.665153c-42.655274 0-42.655274 57.420561 0 57.42056z m179.370894 121.403472h114.841122c36.092924 0 36.092924-57.420561 0-57.420561h-114.841122c-43.202136 0-43.202136 57.420561 0 57.420561z m-136.168758 795.13805c28.436849-236.244593-157.496395-451.161549-394.28785-465.926835-236.244593-6.56235-429.833912 201.245394-422.7247 437.489986v36.092924c7.109212 36.092924 64.529773 36.092924 57.420561 0-14.218425-107.731909 14.218425-207.807744 85.85741-286.555941s164.605607-121.950334 265.228304-121.950334 193.589319 42.655274 265.228304 114.841122c71.638985 78.748198 100.075834 186.480107 85.85741 286.555941-7.109212 42.655274 50.311348 42.655274 57.420561-0.546863z" fill="#1296db" p-id="5356"></path><path d="M824.311574 989.274232l258.119092-666.078504c0-7.109212 7.109212-7.109212 7.109213-14.218425 14.218425-36.092924-43.202136-50.311348-57.420561-14.218424L774.000226 960.837383c0 7.109212-7.109212 7.109212-7.109212 14.218425-14.218425 36.092924 43.202136 50.311348 57.42056 14.218424zM422.367649 58.514286c128.512684 0 232.416555 103.903872 232.416555 232.416555S550.33347 523.347397 422.367649 523.347397s-232.416555-103.903872-232.416555-232.416556c0-61.795461 24.608812-120.856609 67.810948-164.058745 43.748999-43.748999 102.810147-68.35781 164.605607-68.35781m0-58.514286C261.590079 0 131.436808 130.153271 131.436808 290.930841s130.153271 290.930841 290.930841 290.930841 290.930841-130.153271 290.930841-290.930841-130.153271-290.930841-290.930841-290.930841z" fill="#3757e3" p-id="5357"></path></svg>
                    </template>
                    <template #text>
                        <div class="title">AI导师</div>
                        <div class="subtitle">大模型AI导师答疑</div>
                    </template>
                </van-grid-item>
                <van-grid-item icon="photo-o" @click="onClickPractice">
                    <template #icon>
                        <svg t="1709745106082" class="icon" viewBox="0 0 1032 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9865" width="32" height="32"><path d="M838.388735 478.229702c43.332955-1.261489 180.040647-8.060421 193.753192 14.842971v37.132001c-10.878292 6.823507-10.820952 10.165633-29.808813 11.132228a1053.105493 1053.105493 0 0 0-160.225445 3.710743c-11.590951 17.882012-6.446699 45.585614-14.900311 66.826134-22.485626 56.521246-58.020288 111.338663-100.607818 148.495238a352.618851 352.618851 0 0 1-108.053878 59.404649c-21.527222 7.110209-56.76699 0.44234-67.071878 18.561905-13.008078 20.478712-4.1367 140.074392-3.727126 174.478629-13.761695 8.625634-22.682222 11.599143-48.43625 11.140419a73.182726 73.182726 0 0 0-14.900311-22.272647v-170.776078h-7.454252c-8.068613-4.914891-21.95318 0.434149-33.535939-3.710743a638.19859 638.19859 0 0 1-70.799004-25.98339c-84.577082-42.841466-169.424483-136.92067-175.125756-256.164116-42.038701 0.704468-158.202148 9.174463-182.580007-7.421485A42.431892 42.431892 0 0 1 0.014828 504.213093c40.760829-39.540298 119.808658-26.982751 197.480318-25.983391 7.028294-159.570126 141.286732-258.900072 286.914951-285.882823V21.595376a26.450305 26.450305 0 0 0 7.44606-14.851163c81.578998-40.138276 58.118586 109.159728 55.890501 181.916497l11.181377 3.710743c22.575732 13.819035 77.819107 16.063502 104.334943 29.694133 83.676018 43.103594 170.407461 136.248969 175.125757 256.164116zM74.55734 88.421509h335.351201c8.191485 12.287227 15.563821 14.589035 18.627437 33.413067a43.47221 43.47221 0 0 0-7.44606 18.561905c-48.034868 20.888287-228.124664 7.716379-298.088136 7.421486-7.372336 22.17435-3.727126 60.723478-3.727126 89.098781v200.470211c-13.507759 12.762334-19.30733 15.678502-48.43625 14.851162a67.334006 67.334006 0 0 0-11.181377-14.851162v-237.553063c0-25.221582-7.298613-75.263363 3.727126-92.809524A60.78901 60.78901 0 0 1 74.55734 88.421509z m566.367459 0h339.078327A66.867091 66.867091 0 0 1 991.184503 106.983414c12.164355 15.514672 7.454251 54.809226 7.454251 81.677296 0 63.459434 16.05531 248.562418-26.081688 263.577411-19.266373 12.475632-31.668281-9.182655-40.957425-18.561905V151.561475h-7.446059c-14.998609-9.346484-56.136246-3.710743-78.253256-3.710742H640.900225l-18.627437-25.983391a178.058308 178.058308 0 0 1 18.627437-33.445833z m-380.0849 389.808193h223.570198V251.76791C378.830048 265.816307 261.503409 362.246467 260.839899 478.229702z m514.204083 0c0-117.760787-117.670681-212.012013-223.570198-226.461792-16.628714 49.820611-4.022019 162.306082-3.727126 222.742858 50.811781 16.833502 165.746506 4.013828 227.297324 3.718934z m-346.499812-170.776077h14.908502a65.679326 65.679326 0 0 1 11.181377 14.851162 24.295944 24.295944 0 0 1-7.454251 29.702324c-23.910944 17.497012-48.280612 22.690413-67.071879 44.545295-19.323713 22.477435-17.357757 63.213689-55.890501 66.826134-7.659038-11.468079-12.893397-10.861909-14.900311-29.702324 17.750948-19.479351 25.393603-49.378271 40.957424-70.536877 18.725735-25.360837 58.020288-32.143387 78.236873-55.685714z m145.325134 0c71.265919-2.064254 178.730009 97.388564 130.408439 148.495238a12.737759 12.737759 0 0 1-7.454251-3.710742c-27.851049-9.829782-47.363166-71.3806-78.245064-89.098782-11.812121-6.774358-42.505615-10.952015-48.43625-22.272647-4.914891-9.32191 2.129786-28.825835 3.69436-33.413067z m-312.996639 237.553062c0.819148 116.114299 116.818766 213.363608 223.570198 226.461793V545.047645c-60.887307-6.266486-150.747897-0.122872-223.602964 0z m514.204083 0c-74.468789 0-160.487573-2.178935-223.570198 0-16.38297 49.017846-4.022019 159.520977-3.727126 219.040307a13.311163 13.311163 0 0 1 3.727126 7.421486h11.181377c18.684777-13.704354 49.583058-11.369781 70.799004-22.272648 65.540071-33.658812 141.638966-106.866112 141.557051-204.148187zM689.344666 563.593167h29.808814c3.489573 11.877653 6.479465 12.983504 7.44606 29.702324-10.255739 9.371059-10.919249 24.959455-18.627437 37.12381-21.912222 34.559875-66.867091 82.807721-119.235254 85.388038-6.848081-10.837335-10.20659-10.788186-11.181377-29.702324a13.343929 13.343929 0 0 0 3.727125-7.421485c48.976888-26.376581 90.843568-57.561565 108.062069-115.090363z m-611.084775 7.429677a126.968016 126.968016 0 0 1 29.808814 3.710742c23.657008 41.686467 11.549994 227.723281 11.181377 296.998669 22.248073 7.372336 60.944648 3.710743 89.426441 3.710743h193.753193a73.182726 73.182726 0 0 0 14.908502 7.421485 40.474127 40.474127 0 0 0 7.454252 11.140419 143.547582 143.547582 0 0 1-3.727126 33.413067c-60.231989 26.843496-266.681983 11.074888-346.499812 7.421486-5.979784-8.527336-7.978506-5.602976-11.173186-18.561905-10.263931-16.096268-3.727126-61.870286-3.727125-85.388039 0-69.627622-13.794461-199.470849 7.454251-252.445182a40.957425 40.957425 0 0 0 11.140419-7.405103z m871.909847 0h26.081688a65.679326 65.679326 0 0 1 11.181377 14.851162c11.468079 13.106376 7.44606 46.33923 7.446059 70.536876v185.619049c0 21.117648 5.316274 60.109116-3.727125 74.247619-4.41521 14.269567-8.191485 17.202118-26.081688 18.561905-15.498289 9.829782-59.167096 3.710743-81.97219 3.710742-68.210495 0-194.138193 13.212865-245.92476-7.421485-11.427121-18.717543-9.829782-25.885092-3.718934-48.264229 80.186446-19.766053 201.01904-7.568932 294.36101-7.421485 7.372336-22.166158 3.718934-60.723478 3.718935-89.098782V593.311874a182.899475 182.899475 0 0 0 18.635628-22.272648z m-607.35765 11.132228c28.342538 8.084996 34.404237 47.035506 55.890502 63.115391 14.613609 10.935632 52.843269 23.755306 63.344753 33.413067 5.611167 5.12787 3.628828 19.200841 3.727126 29.694133a13.425844 13.425844 0 0 0-3.727126 7.429676H454.642241a32.405514 32.405514 0 0 1-18.635629 3.710743c-10.97659-10.64893-22.608498-10.476909-37.263065-18.561905-31.250515-17.251267-74.902938-63.590497-81.972189-103.949943a90.614206 90.614206 0 0 0 26.04073-14.83478z" fill="#1288FF" p-id="9866"></path></svg>
                    </template>
                    <template #text>
                        <div class="title">实战演练</div>
                        <div class="subtitle">大模型AI客户演练</div>
                    </template>
                </van-grid-item>
            </van-grid>
        </div>

        <div class="HotTraining">
            <van-cell title="热门课程" value="更多" is-link :border="false" :clickable="false"/>
            <div class="list">
                <div class="item" v-for="item in 16" :key="item" @click="onClickVideo">
                    <div class="image">
                        <img :src="hotCourse1" alt="" style="width: 100%; height: 100%;" >
                        <div class="desc">做金融不是鱼翅捞饭</div>
                    </div>
                    <div class="bottom">
                        <div class="left">
                            <div class="icon">
                                <img src="https://img.yzcdn.cn/vant/cat.jpeg" alt="" style="width: 20px; height: 20px; border-radius: 50%;" >
                            </div>
                            <div class="name">保险人{{item}}</div>
                        </div>
                        <div class="right">点赞</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <van-popup v-model:show="showVideo" :style="{  }" :lazy-render="false" :close-on-click-overlay="false" :closeable="true" @close="onCloseVideo">
        <div id="dplayer"></div>
    </van-popup>
    
</template>

<script lang="ts" setup>
import {ref, onMounted} from 'vue'
import {useRouter} from 'vue-router'
import banner1 from '../../assets/banner/banner2.png'
import banner2 from '../../assets/banner/banner3.png'
import banner3 from '../../assets/banner/banner4.png'
import banner4 from '../../assets/banner/banner5.png'
import hotCourse1 from '../../assets/hot-course/hot1.png'
import DPlayer from 'dplayer';
const router = useRouter();
const showVideo = ref(false)
let dp:any;

const onClickAITeachers = () => {
    router.push('/ai-teachers');
}

const onClickPractice = () => {
    router.push('/online-practice');
}

onMounted(() => {
    
})

const onClickVideo = () => {
    showVideo.value = true;
    dp = new DPlayer({
        container: document.getElementById('dplayer'),
        preload: 'none',
        autoplay: true,
        video: {
            url: 'https://xujialiang.gicp.net/internlm-demo/video/video.mp4',
        }
    });
}

const onCloseVideo = () => {
    dp.pause();
    dp.destroy();
}
</script>

<style scoped lang="scss">
.page {
    background-color: #f7f7f7;
    overflow: scroll;
    height: 100%;
}
.my-swipe .van-swipe-item {
    color: #fff;
    font-size: 20px;
    line-height: 150px;
    text-align: center;
    background-color: #39a9ed;
    height: 170px;
    .image{
        width: 100%;
        height: 100%;
    }
  }
.MyTraining {
    margin-top: 10px;
    border-top: 1px solid #f7f7f7;
    .menus {
        .title {
            font-size: 14px;
            color: #676669;
        }
        .subtitle {
            font-size: 12px;
            color: #cdccd1;
        }
    }
}
.HotTraining {
    margin-top: 25px;
    .list {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        align-items:left;
        justify-content: space-evenly;
        .item {
            width: 45vw;
            margin-bottom: 10px;
            .image {
                position: relative;
                height: 100px;
                .desc {
                    box-sizing: border-box;
                    position: absolute;
                    bottom: 0px;
                    left: 0px;
                    background-color: rgba(0, 0, 0, 0.5);
                    font-size: 12px;
                    width: 100%;
                    color: rgba(255, 255, 255, 0.8);
                    padding: 5px;
                    text-align: left;
                }
            }
            .bottom {
                display: flex;
                flex-direction: row;
                justify-content: space-between;
                padding: 5px;
                .left {
                    font-size: 12px;
                    color: #676669;
                    display: flex;
                    flex-direction: row;
                    .name {
                        margin-left: 5px;
                        display: flex;
                        justify-content: center;
                        align-items: center;
                    }
                }
                .right {
                    font-size: 12px;
                    color: #676669;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }
            }
            
        }
    }
}
</style>
  